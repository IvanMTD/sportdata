<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title th:text="${title}">page-title</title>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=PT+Sans+Narrow:wght@400;700&display=swap');
            *{
                font-family: "PT Sans Narrow", sans-serif;
                font-weight: 400;
                font-style: normal;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="/css/main.css">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    </head>
    <body>

        <div id="overlay">
            <div class="spinner-border fs-1 text-light" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>

        <header th:insert="~{block/header}"></header>
        <nav th:insert="~{block/navbar}"></nav>

        <div th:insert="~{page/main-page}" th:if="${index} == 'main-page'"></div>
        <div th:insert="~{page/user-reg-page}" th:if="${index} == 'user-reg-page'"></div>
        <div th:insert="~{page/login-page}" th:if="${index} == 'login-page'"></div>
        <div th:insert="~{page/profile-page}" th:if="${index} == 'profile-page'"></div>
        <div th:insert="~{page/data-sum-page}" th:if="${index} == 'data-sum-page'"></div>
        <div th:insert="~{page/sport-data-page}" th:if="${index} == 'sport-data-page'"></div>
        <div th:insert="~{page/subject-data-page}" th:if="${index} == 'subject-data-page'"></div>
        <div th:insert="~{page/participant-data-page}" th:if="${index} == 'participant-data-page'"></div>
        <div th:insert="~{page/participant-page}" th:if="${index} == 'participant-page'"></div>
        <div th:insert="~{page/contest-all-page}" th:if="${index} == 'contest-all-page'"></div>
        <div th:insert="~{page/first-step-page}" th:if="${index} == 'first-step-page'"></div>
        <div th:insert="~{page/second-step-page}" th:if="${index} == 'second-step-page'"></div>
        <div th:insert="~{page/last-step-page}" th:if="${index} == 'last-step-page'"></div>
        <div th:insert="~{page/contest-detail-page}" th:if="${index} == 'contest-detail-page'"></div>
        <div th:insert="~{page/monitor-page}" th:if="${index} == 'monitor-page'"></div>
        <div th:insert="~{page/subject-page}" th:if="${index} == 'subject-page'"></div>
        <div th:insert="~{page/analytics-contest-page}" th:if="${index} == 'analytics-contest-page'"></div>


        <footer th:insert="~{block/footer}"></footer>

        <script>
            window.addEventListener('DOMContentLoaded', function() {
                showSpinner();
            });

            window.addEventListener('load', function() {
                hideSpinner();
            });

            document.querySelectorAll('a').forEach(function(link) {
                link.addEventListener('click', function(event) {
                    event.preventDefault();
                    showSpinner();
                    window.location.href = link.href;
                });
            });

            function showSpinner() {
                document.getElementById('overlay').style.display = 'flex';
            }

            function hideSpinner() {
                document.getElementById('overlay').style.display = 'none';
            }
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script>
            let Tooltipelements = document.querySelectorAll("[data-bs-toggle='tooltip']");
            Tooltipelements.forEach((el) => {
                new bootstrap.Tooltip(el);
            });
        </script>
    </body>
</html>